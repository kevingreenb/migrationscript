<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://unpkg.com/docx@4.0.0/build/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"></script>
    <script src="index.js"></script>
</head>


<body>
    <div class="container-fluid">
        <h1 class="page-header">Migration Script Generator</h1>
        <form id="form" onchange="formListener(event)" onsubmit="Export2Doc(event,'exportContent')">
            <div class="form-group">
                Jira Ticket Number:<br>
                <input type="text" name="ticketNumber" id="ticketNumber" required class="form-control col-3"><br>
                Release Version:<br>
                <input type="text" name="releaseVersion" id="releaseVersion" required class="form-control col-3"><br>
                Environment Type:<br>
                <select id = "enviornmentTypeList" name ="enviornmentTypeList" required class="form-control col-3" required>
                    <option name="enviornmentType" value = "DEV">DEV</option>
                    <option name="enviornmentType" value = "TST">TST</option>
                    <option name="enviornmentType" value = "PRD">PRD</option>                               
                </select><br>                

                <label>Data mart</label>
                <select id = "datamartList" name ="datamartList" required class="form-control col-3">
                    <option name="datamart" value = ""></option>
                    <option name="datamart" value = "ADMDASH">ADMDASH</option>
                    <option name="datamart" value = "ARD">ARD</option>
                    <option name="datamart" value = "EFFORT">EFFORT</option>
                    <option name="datamart" value = "ENDOWMENT">ENDOWMENT</option>
                    <option name="datamart" value = "FAMIS">FAMIS</option>
                    <option name="datamart" value = "FASIS">FASIS</option>
                    <option name="datamart" value = "INFOED">INFOED</option>
                    <option name="datamart" value = "INVO">INVO</option>
                    <option name="datamart" value = "NUCORE">NUCORE</option>
                    <option name="datamart" value = "NUFIN">NUFIN</option>
                    <option name="datamart" value = "RESEARCH">RESEARCH</option>
                    <option name="datamart" value = "STUDENT">STUDENT</option>                                  
                </select><br>

                Sequences or jobs created:<br>
                <textarea name="newSquencesJobs" id="newSquencesJobs" class="form-control col-3"></textarea><br>
                Sequences or jobs altered:<br>
                <textarea name="alteredSquencesJobs" id="alteredSquencesJobs" class="form-control col-3"></textarea><br>
                DDLs created:<br>
                <textarea name="ddlsCreated" id="ddlsCreated" class="form-control col-3"></textarea><br>
                DDLs altered:<br>
                <textarea name="ddlsAltered" id="ddlsAltered" class="form-control col-3"></textarea><br>
            </div>
            <button type="submit" class="btn btn-primary">Export as .doc</button>
        </form>
    </div>
    <!-- <div style="visibility: hidden;"> -->
        <div id="exportContent">
            <img src="https://www.northwestern.edu/brand/images/formal-lockup/nu-horizontal.gif" class="rounded mx-auto d-block">
            <div id="docTitle"></div>
            <div>
                <p><b><u>ETL Migration Summary</u></b></p>
                <ol>
                    <li>DDL Migration</li>
                        <ul id="newDDLS">                             
                        </ul>
                        <ul id="alteredDDLS">                             
                        </ul>
                    <li>Environment Variables</li>
                        <ul id="environmentVariables">
                        </ul>
                    <li>DataStage ETLs</li>
                        <ul id="newETLS" >    
                        </ul>
                        <ul id="alteredETLS" >    
                        </ul>
                </ol>
            </div>
            <div>
                <p><b><u>Part 1 - Migrate DDL</u></b></p>
                <ol >
                    <li><b>DDL Migration</b></li>
                        <ul>
                            <li id="ddlMigrateOne">Back up view PS_D_DEPT_NU to \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\backup PS_D_DEPT_NU.sql</li>  
                            <li id="ddlMigrateTwo">Back up view PS_F_KK_LEDGER_NU \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\backup  PS_F_KK_LEDGER_NU.sql </li>   
                        </ul>
                    <li><b>Execute SQL Script</b></li>
                        <ul>
                            <li id="executeOne">Open \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\import SQLScript.sql</li>
                            <li id="executeTwo">Run SQL Script from your SQL Client</li>                           
                        </ul>
                    <li><b>Peform Schema Diff</b></li>
                </ol >
            </div>
            <div>
                <p><b><u>Part 2 - Migrate DataStage ETL</u></b></p>
                <ol>
                    <li id="backupPre"><b>Back up entire Batch_NUFIN (pre migration)</b></li>
                        <ul>
                            <li id="backupOne">Open DS Designer and log on to NUFIN_TST on ERADS12</li>
                            <li id="backupTwo">Export Batch_ NUFIN, with executables, exclude read-only to 
                            \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\backup  Batch_Nufin_ TST_Pre.dsx</li>
                            <li id="backupThree">Commit to SVN with comment “Nufin 1.7 RC1 to TST before migration”</li>
                        </ul>
                    <li id="migrateDsx"><b>Migrate DSX to Nufin_TST</b></li>
                        <ul>
                            <li id="migrateOne">Open DS Designer and log on to Nufin _TST on ERADS12</li>
                            <li id="migrateTwo">Import the file below, already saved to subversion:
                            \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\1.7RC1.dsx 
                            (contains the jobs listed above)</li id="migrateOne">
                            <li id="migrateThree">Compile job (Tools -> Multiple Job Compile (All Jobs)</li id="migrateOne">
                        </ul>
                    <li id="backupPost"><b>Backup entire Batch_NUFIN ETL (post migration)</b></li>
                        <ul>
                            <li id="backupFour">Export Batch_NUFIN, with executables, exclude read-only to
                            \FFRA\trunk\Releases\DMA-NUFIN 1.7 RC1\backup  Batch_Nufin_ TST_Post_Release.dsx</li>
                            <li id="backupFive">Commit to SVN with comment “Nufin 1.7RC1 to TST after migration”</li>
                            <li id="backupSix">Close DS Designer connection to Nufin _TST on ERADS12</li>
                                
                        </ul>
                </ol>
            </div>                
        </div>
    <!-- </div> -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>

</html>
